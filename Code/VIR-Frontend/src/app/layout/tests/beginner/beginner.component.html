<div [@routerTransition] class="container-fluid">

    <!--This button dissapears whenerer you start the quiz-->

    <div class="container-fluid" text-align="center">

        <button class="btn btn-warning float-right" (click)="backClicked()">
            <i class="fa fa-step-backward"></i> To Test Categories
        </button>
        <h3>{{level}} Level Questions.</h3>
    </div>

    <div *ngIf="!start">
        <hr />
        <button class="btn btn-success" (click)="startQuiz()" type="button">
            Click here to start the {{level}} Word Quiz!
        </button>
    </div>
    <hr />

    <!--This is the start of the card, this displays the questions -->

    <div class="card card-info card-inverse mb-3 col-lg-12 center-block">
        <div class="card-header card-info" placeholder="test" *ngIf="!start">
            <h5>Ready?</h5>
        </div>
        <div class="card-header card-info" placeholder="test" *ngIf="start">
            <i class="fa fa-fw fa-check fa-2x float-right" *ngIf="correct"></i>
            <i class="fa fa-fw fa-times fa-2x float-right" *ngIf="wrong"></i>
            <h5>{{question}}</h5>
            <hr>

            <!--This is the section for the possible answers-->
            <form class="qOptions" id="qOptions">
                <div class="form-group">
                    <div class="row">
                        <div class="col col-lg-6 col-md-4">
                            <label class="custom-control custom-radio">
                                <input id="radio1" name="radio" [(ngModel)]="radioData" type="radio" class="custom-control-input" value="0" checked>
                                <span class="custom-control-indicator"></span>
                                <span class="custom-control-description">{{options[0]}}</span>
                            </label>
                        </div>
                        <div class="col col-lg-6 col-md-4">
                            <label class="custom-control custom-radio">
                                <input id="radio2" name="radio" [(ngModel)]="radioData" type="radio" class="custom-control-input" value="1">
                                <span class="custom-control-indicator"></span>
                                <span class="custom-control-description">{{options[1]}}</span>
                            </label>
                        </div>
                    </div>
                </div>
                <div class="form-group">
                    <div class="row">
                        <div class="col col-lg-6 col-md-4">
                            <label class="custom-control custom-radio">
                                <input id="radio3" name="radio" [(ngModel)]="radioData" type="radio" class="custom-control-input" value="2">
                                <span class="custom-control-indicator"></span>
                                <span class="custom-control-description">{{options[2]}}</span>
                            </label>
                        </div>
                        <div class="col col-lg-6 col-md-4">
                            <label class="custom-control custom-radio">
                                <input id="radio4" name="radio" [(ngModel)]="radioData" type="radio" class="custom-control-input" value="3">
                                <span class="custom-control-indicator"></span>
                                <span class="custom-control-description">{{options[3]}}</span>
                            </label>
                        </div>
                    </div>
                </div>
                <button class="btn btn-primary btn-block" (click)="validate()" [disabled]="submited">Check your answer!</button>
                <div class="alert alert-success" *ngIf="correct">Correct!</div>
                <div class="alert alert-danger" *ngIf="wrong"><strong>Opps! </strong>Sorry, the answer is: '{{correctAnswer}}'</div>
            </form>
        </div>
    </div>

    <!-- This 'next' button will skip the question. Also provide the user with a warning if question not answered -->

    <div class="container-fluid">
        <button class="btn btn-primary" (click)="finishQuiz(stats)" *ngIf="start">Finish Quiz!
        </button>
        <button class="btn btn-success float-right" (click)="nextQuestion(content)" *ngIf="!finished">
            Next <i class="fa fa-step-forward">  </i>
        </button>
    </div>

    <br />
    <br />
    <hr />

    <!-- Feedback for the user -->
    <h4>Progress</h4>
    <table id="progress">
        <tr>
            <th>Total Questions</th>
            <th>Correct</th>
            <th>Incorrect</th>
            <th>Skipped</th>
        </tr>
        <tr>
            <td>{{numberOfQuestions}}</td>
            <td>{{numRight}}</td>
            <td>{{numWrong}}</td>
            <td>{{numSkipped}}</td>
        </tr>
    </table>

    <!--Definition model (Popup) for skipped question warning-->
    <ng-template #content let-c="close" let-d="dismiss">
        <div class="modal-header">
            <h4>
                WARNING<i class="fa fa-fw fa-exclamation"></i>
            </h4>
            <button type="button" class="close" aria-label="Close" (click)="d('Cross click')">
                <span aria-hidden="true">&times;</span>
            </button>
        </div>
        <div class="modal-body">
            <!--Alert-->
            <div>
                <strong>This question is not answered! </strong>If you skip the question, we will mark it as an 'Not Attempted'.
            </div>
        </div>
        <div class="modal-footer">
            <!--this button will skip the currwnt question from the quiz-->
            <button type="button" class="btn btn-warning" (click)="c('Close click'); skipQuestion(); nextQuestion(content)">Skip Anyway...</button>
        </div>
    </ng-template>

    <ng-template #stats let-c="close" let-d="dismiss">
        <div class="modal-header">
            <h4>
                Session Stats:
            </h4>
            <button type="button" class="close" aria-label="Close" (click)="d('Cross click')">
                <span aria-hidden="true">&times;</span>
            </button>
        </div>
        <div class="modal-body">
            <!--Alert-->
            <div>
                <strong>Attempted: </strong> {{attempted}}
            </div>
            <div>
                <strong>Correct: </strong>{{numRight}}
            </div>
            <div>
                <strong>Wrong: </strong> {{numWrong}}
            </div>
            <div>
                <strong>Skiped: </strong> {{numSkipped}}
            </div>
        </div>
        <div class="modal-footer">
            <!--this button will skip the currwnt question from the quiz-->
            <button type="button" class="btn btn-warning" (click)="c('Close click');">Close</button>
        </div>
    </ng-template>

    <div>

    </div>

</div>
